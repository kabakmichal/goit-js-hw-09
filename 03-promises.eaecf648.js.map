{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,SACAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,SAAS,IAGX,MAAMC,EAAYC,SAASC,cAAc,UACnCC,EAAOF,SAASC,cAAc,SAE9BE,EAAgB,CAACC,EAAUC,KACTC,KAAKC,SAAW,GAIpCZ,EAAAF,GAASG,OAAOY,QAAQ,uBAAqBJ,QAAiBC,QAG9DV,EAAAF,GAASG,OAAOa,QAAQ,sBAAoBL,QAAeC,OAAW,EAQ1E,IAAIK,EAAU,KAEdX,EAAUY,iBAAiB,SAASC,IAClCA,EAAMC,iBAEN,MAAMC,EAAaZ,EAAKa,SAASV,MAAMW,MACjCC,EAAkBf,EAAKa,SAASG,KAAKF,MACrCG,EAAcjB,EAAKa,SAASK,OAAOJ,MAEzC,IAAIK,EAAO,EAEXC,QAAQC,IAAI,UAAUT,KAEtBU,YAAW,KACT,IAAIC,EAAOC,OAAOZ,GAClBX,EAAckB,EAAMI,GAEpBf,EAAUiB,aAAY,KACpBN,IAKA,MAAMO,EA3BI,EAACC,EAAKC,EAAMC,EAAMC,IAClBF,EAAOC,GAAQC,EAAU,GA0BhBC,CAFL,EAFDP,OAAOZ,GACPY,OAAOT,GAG4BI,GAE5CA,GAAQF,EACVhB,EAAckB,EAAMO,GAEpBM,cAAcxB,EAAQ,GAEvBO,EAAgB,GAClBH,EAAW","sources":["src/js/03-promises.js"],"sourcesContent":["// all modules//\nimport Notiflix from 'notiflix';\nNotiflix.Notify.init({\n  useIcon: false,\n})\n\nconst createBtn = document.querySelector('button');\nconst form = document.querySelector('.form');\n\nconst createPromise = (position, delay) => {\n  const shouldResolve = Math.random() > 0.3;\n\n  if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay} ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay} ms`);\n  }\n};\n\nconst sumTime = (sum, arg1, arg2, counter) => {\n  return (sum = arg1 + arg2 * (counter - 1));\n};\n\nlet timerId = null;\n\ncreateBtn.addEventListener('click', event => {\n  event.preventDefault();\n\n  const delayInput = form.elements.delay.value;\n  const delayStepsInput = form.elements.step.value;\n  const amountInput = form.elements.amount.value;\n\n  let loop = 1;\n\n  console.log(`Delay: ${delayInput}`);\n\n  setTimeout(() => {\n    let time = Number(delayInput);\n    createPromise(loop, time);\n\n    timerId = setInterval(() => {\n      loop++;\n      const arg1 = Number(delayInput);\n      const arg2 = Number(delayStepsInput);\n      let newTime = 0;\n\n      const actualTime = sumTime(newTime, arg1, arg2, loop);\n\n      if (loop <= amountInput) {\n        createPromise(loop, actualTime);\n      } else {\n        clearInterval(timerId);\n      }\n    }, delayStepsInput);\n  }, delayInput);\n});\n"],"names":["$eWCmQ","parcelRequire","$parcel$interopDefault","Notify","init","useIcon","$47d4ff9957288465$var$createBtn","document","querySelector","$47d4ff9957288465$var$form","$47d4ff9957288465$var$createPromise","position","delay","Math","random","success","failure","$47d4ff9957288465$var$timerId","addEventListener","event","preventDefault","delayInput","elements","value","delayStepsInput","step","amountInput","amount","loop","console","log","setTimeout","time","Number","setInterval","actualTime","sum","arg1","arg2","counter","$47d4ff9957288465$var$sumTime","clearInterval"],"version":3,"file":"03-promises.eaecf648.js.map"}