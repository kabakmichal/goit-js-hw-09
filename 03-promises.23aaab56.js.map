{"mappings":"iiBACA,IAAAA,EAAAC,EAAA,SACAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,SAAS,IAGX,IAAMC,EAAYC,SAASC,cAAc,UACnCC,EAAOF,SAASC,cAAc,SAE9BE,EAAgB,SAACC,EAAUC,GACTC,KAAKC,SAAW,GAIpCZ,EAAAF,GAASG,OAAOY,QAAQ,uBAAwCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,QAGtEV,EAAAF,GAASG,OAAOc,QAAQ,sBAAqCD,OAAfL,EAAS,QAAYK,OAANJ,EAAM,O,EAQnEM,EAAU,KAEdZ,EAAUa,iBAAiB,SAAS,SAAAC,GAClCA,EAAMC,iBAEN,IAAMC,EAAab,EAAKc,SAASX,MAAMY,MACjCC,EAAkBhB,EAAKc,SAASG,KAAKF,MACrCG,EAAclB,EAAKc,SAASK,OAAOJ,MAErCK,EAAO,EAEXC,QAAQC,IAAI,UAAqBf,OAAXM,IAEtBU,YAAW,WACT,IAAIC,EAAOC,OAAOZ,GAClBZ,EAAcmB,EAAMI,GAEpBf,EAAUiB,aAAY,WACpBN,IACA,IAIMO,EA3BI,SAACC,EAAKC,EAAMC,EAAMC,GAChC,OAAcF,EAAOC,GAAQC,EAAU,E,CA0BhBC,CAFL,EAFDP,OAAOZ,GACPY,OAAOT,GAG4BI,GAE5CA,GAAQF,EACVjB,EAAcmB,EAAMO,GAEpBM,cAAcxB,E,GAEfO,E,GACFH,E","sources":["src/js/03-promises.js"],"sourcesContent":["// all modules//\nimport Notiflix from 'notiflix';\nNotiflix.Notify.init({\n  useIcon: false,\n})\n\nconst createBtn = document.querySelector('button');\nconst form = document.querySelector('.form');\n\nconst createPromise = (position, delay) => {\n  const shouldResolve = Math.random() > 0.3;\n\n  if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay} ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay} ms`);\n  }\n};\n\nconst sumTime = (sum, arg1, arg2, counter) => {\n  return (sum = arg1 + arg2 * (counter - 1));\n};\n\nlet timerId = null;\n\ncreateBtn.addEventListener('click', event => {\n  event.preventDefault();\n\n  const delayInput = form.elements.delay.value;\n  const delayStepsInput = form.elements.step.value;\n  const amountInput = form.elements.amount.value;\n\n  let loop = 1;\n\n  console.log(`Delay: ${delayInput}`);\n\n  setTimeout(() => {\n    let time = Number(delayInput);\n    createPromise(loop, time);\n\n    timerId = setInterval(() => {\n      loop++;\n      const arg1 = Number(delayInput);\n      const arg2 = Number(delayStepsInput);\n      let newTime = 0;\n\n      const actualTime = sumTime(newTime, arg1, arg2, loop);\n\n      if (loop <= amountInput) {\n        createPromise(loop, actualTime);\n      } else {\n        clearInterval(timerId);\n      }\n    }, delayStepsInput);\n  }, delayInput);\n});\n"],"names":["$iU1Pc","parcelRequire","$parcel$interopDefault","Notify","init","useIcon","$ce04d3a99e08e73b$var$createBtn","document","querySelector","$ce04d3a99e08e73b$var$form","$ce04d3a99e08e73b$var$createPromise","position","delay","Math","random","success","concat","failure","$ce04d3a99e08e73b$var$timerId","addEventListener","event","preventDefault","delayInput","elements","value","delayStepsInput","step","amountInput","amount","loop","console","log","setTimeout","time","Number","setInterval","actualTime","sum","arg1","arg2","counter","$ce04d3a99e08e73b$var$sumTime","clearInterval"],"version":3,"file":"03-promises.23aaab56.js.map"}